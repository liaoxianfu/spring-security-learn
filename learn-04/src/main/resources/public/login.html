<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录页面</title>
</head>
<body>
<h1>登录页面</h1>

<div>
    用户名<input type="text" name="username" id="username"><br>
    密码 <input type="password" name="password" id="password"><br>
    <button id="btn">登录</button>
</div>


<script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.js"></script>
<script>
    $("#btn").click(() => {
        let username = $("#username").val();
        let password = $("#password").val();
        let form = {
            "username": username,
            "password": password,
        };
        $.ajax({
            url: "/login",
            method: "post",
            data: form,
            success: (res) => {
                if (res.code === 200) {
                    alert(JSON.stringify(res));
                    location.href = "/index"
                } else {
                    alert(JSON.stringify(res));
                    alert("用户名或者密码错误，请重新填写");
                    $("#username").val("");
                    $("#password").val("")
                }
            }
        })
    })
</script>
</body>
</html>